define("8591/contrast/game_contrast",["jquery","zui","lib/zui.datagrid.min","chosen","config/config","config/function"],function(require,exports,module){"use strict";var g=require("jquery");require("zui"),require("lib/zui.datagrid.min"),require("chosen");var i=require("config/config"),a=require("config/function"),e={init:function(){t(),n()}},t=function(){o(r)},o=function(t){g.ajax({type:"GET",url:i.REQUEST_URL.GET_RECORD,dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0,success:function(e){if(null==e.data||""==e.data)return a.show_error_tip("沒有資料"),!1;g.isFunction(t)&&t(e)}})},r=function(e){for(var t=e.data,a="<option value=''></option>",o=0;o<t.length;o++)a+="<option value="+t[o].Id+">"+t[o].CreateTime+"</option>";g("select.chosen-select").html(a),g("select.chosen-select").chosen({lang:"zh_cn",no_results_text:"沒有找到",disable_search_threshold:10,search_contains:!0})},n=function(){g(document).on("click",'a[href="/8591/contrast/game_contrast"]',function(){var e=g("#newSelect").val(),t=g("#oldSelect").val();l(e,t,s,a.show_error_tip)})},l=function(e,t,a,o){var r={newId:e,oldId:t};g.ajax({type:"GET",url:i.REQUEST_URL.GAME_CONTRAST,dataType:"json",data:r,xhrFields:{withCredentials:!0},crossDomain:!0,success:function(e){!0===e.status?g.isFunction(a)&&a(e):g.isFunction(o)&&o(e.info)}})},s=function(e){d(e)},d=function(e){g("tbody").html();var t=e.data;console.log(t);for(var a=t.addGameData,o=t.reduceGameData,r=t.changeGameData,i="",n="",l="",s=0;s<a.length;s++){var d=u(a[s].serverData||[]);i+="<tr><td>"+a[s].GameId+"</td><td>"+a[s].GameName+"</td><td>"+d+"</td></tr>"}for(s=0;s<o.length;s++){d=u(o[s].serverData||[]);n+="<tr><td>"+o[s].GameId+"</td><td>"+o[s].GameName+"</td><td>"+d+"</td></tr>"}for(s=0;s<r.length;s++){var c=u(r[s].addServerData||[]),h=u(r[s].reduceServerData||[]);l+="<tr><td>"+r[s].gameName+"</td><td>"+c+"</td><td>"+h+"</td></tr>"}g("#addPanel").html(i),g("#reducePanel").html(n),g("#changePanel").html(l)},u=function(e){for(var t="",a=0;a<e.length;a++)t+="<span>"+e[a]+"&nbsp;&nbsp;&nbsp;&nbsp;</span>",(a+1)%6==0&&(t+="<br>");return t};module.exports=e}),function(e,t){"object"==typeof exports?module.exports=t():"function"==typeof define&&(define.amd||define.cmd)?define("lib/zui.datagrid.min",[],t):e.eventUtil=t()}(this,function(){var e;e=function(g){function t(e){var t=e||window.event,a=v.call(arguments,1),o=0,r=0,i=0,n=0,l=0,s=0;if((e=g.event.fix(t)).type="mousewheel","detail"in t&&(i=-1*t.detail),"wheelDelta"in t&&(i=t.wheelDelta),"wheelDeltaY"in t&&(i=t.wheelDeltaY),"wheelDeltaX"in t&&(r=-1*t.wheelDeltaX),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(r=-1*i,i=0),o=0===i?r:i,"deltaY"in t&&(o=i=-1*t.deltaY),"deltaX"in t&&(r=t.deltaX,0===i&&(o=-1*r)),0!==i||0!==r){if(1===t.deltaMode){var d=g.data(this,"mousewheel-line-height");o*=d,i*=d,r*=d}else if(2===t.deltaMode){var c=g.data(this,"mousewheel-page-height");o*=c,i*=c,r*=c}if(n=Math.max(Math.abs(i),Math.abs(r)),(!m||n<m)&&(p(t,m=n)&&(m/=40)),p(t,n)&&(o/=40,r/=40,i/=40),o=Math[1<=o?"floor":"ceil"](o/m),r=Math[1<=r?"floor":"ceil"](r/m),i=Math[1<=i?"floor":"ceil"](i/m),_.settings.normalizeOffset&&this.getBoundingClientRect){var h=this.getBoundingClientRect();l=e.clientX-h.left,s=e.clientY-h.top}return e.deltaX=r,e.deltaY=i,e.deltaFactor=m,e.offsetX=l,e.offsetY=s,e.deltaMode=0,a.unshift(e,o,r,i),f&&clearTimeout(f),f=setTimeout(u,200),(g.event.dispatch||g.event.handle).apply(this,a)}}function u(){m=null}function p(e,t){return _.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}var f,m,e=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],a="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],v=Array.prototype.slice;if(g.event.fixHooks)for(var o=e.length;o;)g.event.fixHooks[e[--o]]=g.event.mouseHooks;var _=g.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var e=a.length;e;)this.addEventListener(a[--e],t,!1);else this.onmousewheel=t;g.data(this,"mousewheel-line-height",_.getLineHeight(this)),g.data(this,"mousewheel-page-height",_.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=a.length;e;)this.removeEventListener(a[--e],t,!1);else this.onmousewheel=null;g.removeData(this,"mousewheel-line-height"),g.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var t=g(e),a=t["offsetParent"in g.fn?"offsetParent":"parent"]();return a.length||(a=g("body")),parseInt(a.css("fontSize"),10)||parseInt(t.css("fontSize"),10)||16},getPageHeight:function(e){return g(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};g.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})},"function"==typeof define&&define.amd?define("lib/zui.datagrid.min",[],e):"object"==typeof exports?module.exports=e:e(jQuery),function(A,k){"use strict";var m="zui.datagrid",d={date:{getter:function(e,t,a){var o=a.options.defaultDateFormater;return Date.create(e).format(o)},setter:function(e,t,a){if("string"==typeof e){var o=parseInt(e,10);isNaN(o)||(e=o)}return Date.timestamp(e)}}},c={},n={page:0,recTotal:0,recPerPage:10},h={fixedLeftUntil:0,fixedTopUntil:0,order:"asc",sortBy:null,pager:n,selections:{}},v=function(e,n){var l=0,s=n.length,d=0,c={};return A.each(e,function(e,t){var a=typeof t;"number"===a||"number"===a?t+="":"string"!==a&&(t=JSON.stringify(a));for(var o=0,r=0;r<s;++r){var i=n[r];t.includes(i)&&(o=t.startsWith(i)?10:20,c[i]||(c[i]=1,d++))}l+=o}),l=d===s?l:0},_=function(e,t){return e==t?0:e<t?-1:1},g={zh_cn:{errorCannotGetDataFromRemote:"无法从远程服务器（{0}）获取数据。",errorCannotHandleRemoteData:"无法处理远程服务器返回的数据。"},zh_tw:{errorCannotGetDataFromRemote:"無法從遠程服務器（{0}）獲取數據。",errorCannotHandleRemoteData:"無法處理遠程服務器返回的數據。"},en:{errorCannotGetDataFromRemote:"Cannot fetch data from remote server {0}.",errorCannotHandleRemoteData:"Cannot handle the remote data."}},b=function(e,t){var u=this,a=u.$=A(e);u.name=m,u.uuid=A.zui.uuid(),u.id="zui-datagrid-"+u.uuid;var o=(t=A.extend({},b.DEFAULTS,u.$.data(),t)).lang||"zh_cn";u.lang=A.isPlainObject(o)?A.extend(!0,{},g[o.lang||A.zui.clientLang()],o):g[o],t.valueOperator=A.extend({},d,t.valueOperator),t.rowDefaultHeight=t.rowDefaultHeight||30,t.headerHeight=t.headerHeight||t.rowDefaultHeight||30,"number"!=typeof(u.options=t).borderWidth&&(t.borderWidth=1),a.is("table")&&(t.dataSource=A.extend(function(e){var a=[];e.find("thead>tr:first>th").each(function(e){var t=A(this);if(a.push(A.extend({name:e,label:t.html(),html:!0,width:t.outerWidth()},t.data())),t.attr("colspan")&&"1"!==t.attr("colspan"))throw new Erorr("Table th element with colspan attribute is not support.")});var o=[];return e.find("tbody>tr").each(function(){var e=A(this),t={};e.children("td").each(function(e){t[e]=A(this).html()}),o.push(A.extend(t,e.data()))}),{cols:a,array:o,length:o.length}}(u.$),t.dataSource),a.hide(),a=A('<div class="datagrid" id="datagrid-'+u.uuid+'" />').insertAfter(u.$));var p=a.find(".datagrid-container:first");p.length||(p=A('<div class="datagrid-container" />').appendTo(a)),p.css({width:t.width,borderWidth:t.borderWidth});var f=A(document),r=function(r){var o=p.find(".datagrid-scrollbar-"+r);o.length||(o=A('<div class="datagrid-scrollbar datagrid-scrollbar-'+r+'"><div class="bar"></div></div>').appendTo(p));var i,n,l,s,d=!1,c=null,h=".scrollbar"+r+"."+m+"."+u.uuid,g=function(e){if(d){var t=e["h"===r?"pageX":"pageY"];if(c!==t){t=(c=t)-i+n;var a,o=u.layout[r+"Scroll"];a=l?c-i+s:Math.max(0,Math.min(o.space,t-Math.round(o.barSize/2))),"h"===r?u.setScrollbarOffset(a):u.setScrollbarOffset(null,a)}}};o.on("mousedown",function(e){e.preventDefault(),d=!0;var t=u.layout[r+"Scroll"],a="h"===r?"X":"Y";n=e["offset"+a],i=e["page"+a],l=A(e.target).is(".bar"),s=t.offset,l&&(n+=s),g(e),o.addClass("scrolling"),f.on("mouseup"+h,function(e){d=!1,g(e),f.off(h),o.removeClass("scrolling")}).on("mousemove"+h,g)}),u["$"+r+"Scroll"]=o,u["$"+r+"Scrollbar"]=o.find(".bar")};r("h"),r("v");var i=t.mouseWheelFactor;window.navigator.userAgent.match(/Win/i)&&(i*=20),p.on("mousewheel",function(e){u.scroll(u.layout.scrollLeft-Math.round(e.deltaX*i),u.layout.scrollTop-Math.round(e.deltaY*i)),e.preventDefault()}),u.$container=p;var n=a.find(".datagrid-cells:first");if(n.length||(n=A('<div class="datagrid-cells" />').appendTo(p)),n.toggleClass("datagrid-hover-cell",!!t.hoverCell).toggleClass("datagrid-hover-row",!!t.hoverRow).toggleClass("datagrid-hover-col",!!t.hoverCol).toggleClass("datagrid-hover-shadow",!!t.hoverCol),u.$cells=n,u.isFuncConfigs=A.isFunction(t.configs),u.configs=u.isFuncConfigs?t.configs:A.extend({},c,t.configs),u.layout={scrollLeft:0,scrollTop:0},u.configsCache={},u.userConfigs={},u.states=A.extend(!0,{},h,t.states),u.cells=[],u.setPager(u.states.pager),u.setDataSource(t.dataSource),u.render(!0),t.responsive&&(p.width(),p.on("resize",function(){u.layout.cols=null,u.render()})),t.hoverCol&&n.on("mouseenter",".datagrid-cell-head",function(){var e=A(this).data("col");u.$cells.find(".datagrid-cell.hover").removeClass("hover"),u.$cells.find('.datagrid-cell[data-col="'+e+'"]').addClass("hover")}).on("mouseleave",".datagrid-cell-head.hover",function(){u.$cells.find(".datagrid-cell.hover").removeClass("hover")}),t.sortable&&n.on("click",".datagrid-col-sortable",function(){var e=A(this).data("col"),t=u.getColConfig(e),a=u.states.sortBy,o=u.states.order;a!==t.name?(a=t.name,o="desc"):"desc"===o?o="asc":"asc"===o&&(a=""),u.sortBy(a,o)}),t.checkable&&(t.selectable&&A.fn.selectable?(u.selectable=n.selectable(A.extend({selector:".datagrid-row-cell",trigger:t.checkByClickRow?null:".datagrid-row-cell .datagrid-has-checkbox",clickBehavior:"multi",select:function(e){u.checkRow(e.id,!0)},unselect:function(e){u.checkRow(e.id,!1)}},A.isPlainObject(t.selectable)?t.selectable:null)).data("zui.selectable"),n.on("click",".datagrid-cell-head.datagrid-has-checkbox",function(){u.checkRow(A(this).data("row")),u.selectable.syncSelectionsFromClass()})):n.on("click",t.checkByClickRow?".datagrid-row":".datagrid-has-checkbox",function(e){var t=A(this).data("row");(t||A(e.target).closest(".datagrid-has-checkbox").length)&&u.checkRow(t)})),A.fn.pager){var l=u.$.find(".pager");l.length&&(u.pagerObj=l.pager(A.extend({},u.pager,{onPageChange:function(e){u.setPager(e).render()}})).data("zui.pager"))}if(A.fn.searchBox){var s=u.$.find(".search-box");s&&(u.searchbox=s.searchBox({onSearchChange:function(e){u.search(e)}}))}};b.prototype.setPager=function(e,t,a){var o=this;"object"==typeof e&&(a=e.recPerPage,t=e.recTotal,e=e.page);var r=o.pager,i=A.extend({},r);return r||(r=A.extend({},n)),"number"==typeof a&&0<a&&(r.recPerPage=a),"number"==typeof t&&0<=t&&(r.recTotal=t),"number"==typeof e&&0<=e&&(r.page=e),r.totalPage=r.recTotal&&r.recPerPage?Math.ceil(r.recTotal/r.recPerPage):1,r.page=Math.max(0,Math.min(r.page,r.totalPage)),r.pageRecCount=r.recTotal,r.page&&r.recTotal&&(r.page<r.totalPage?r.pageRecCount=r.recPerPage:1<r.page&&(r.pageRecCount=r.recTotal-r.recPerPage*(r.page-1))),r.skip=1<r.page?(r.page-1)*r.recPerPage:0,r.end=r.skip+r.pageRecCount,o.pager=r,i.page===r.page&&i.recTotal===r.recTotal&&i.recPerPage===r.recPerPage||(o.layout.cols=null,o.scroll(0,0)),o},b.prototype.goToPage=function(e){return this.setPager(e).render()},b.prototype.setSearch=function(e){return e!==k&&null!==e||(e=""),this.states.search=A.trim(e),this},b.prototype.search=function(e){return e!==this.states.search&&this.pager.page&&this.setPager(1),this.setSearch(e).render()},b.prototype.setSorter=function(e,t){return t===k&&(t="desc"===this.states.order?"asc":"desc"),this.states.order=t.toLowerCase(),this.states.sortBy=e,this},b.prototype.sortBy=function(e,t){return this.setSorter(e,t).render()},b.prototype.setDataSource=function(e,t){var a=this,o={},r=a.dataSource&&a.dataSource.cols;if(A.isArray(e)?(o.array=e,o.length=e.length,a.setPager("",e.length)):A.isPlainObject(e)?o=A.extend(o,e):"string"==typeof e&&(o.remote=e),!0===o.cache||o.cache===k?(o.cache=[],o.cacheSize=1):"number"==typeof o.cache&&(o.cacheSize=o.cache,o.cache=[]),A.isArray(o.data)?(o.array=o.data,o.length=o.array.length,a.setPager("",o.length),delete o.data):!o.data&&A.isFunction(o.getByIndex)&&a.setPager("",o.length),a.dataSource=o,(t=t||o.cols||r||[]).length)for(var i=0;i<t.length;++i){var n=t[i];"string"==typeof n&&(t[i]={name:n})}t!==r&&(a.layout.cols=null),o.cols=t},b.prototype.filterData=function(e,t){var o=this,a=e,r=null;if(t.search){var i=t.search.replace(/\s{2,}/g," ").split(" ");a=[];for(var n=o.options.searchFunc||v,l=0;l<e.length;++l){var s=e[l],d=n(s,i,l,t,o);d&&(null===r&&(r="number"==typeof d),r&&(s._SCORE=d),a.push(s))}}if(o.setPager(-1,a.length),a.length){var c=t.sortBy||!!r&&"_SCORE";if(c){var h="_SCORE"===c?"DESC":t.order,g=o.getColConfigByName(c),u="desc"===h,p=g&&g.sortFunc||o.options.sortFunc||_;a.sort(function(e,t){var a=p(e[c],t[c],e,t,c,o);return u?-1*a:a})}var f=o.pager;f.page&&(1<f.page&&(f.page,f.recPerPage),a=a.slice(f.skip,f.end))}return a},b.prototype.getFilterParams=function(){var e=this.states;return{page:this.pager.page,recPerPage:this.pager.recPerPage,search:e.search,sortBy:e.sortBy,order:e.order}},b.prototype.loadData=function(t){var i=this;i.loadingId=A.zui.uuid();var a=function(e){return i.$.callComEvent(i,"onLoad",e),t&&t(e)},e=i.getFilterParams(),o=[e.page,e.recPerPage,e.search,e.sortBy,e.order].join("&"),r=i.getData(o);if(r)return a(r);var n=i.dataSource;if(n.array)return r=i.filterData(n.array,e),i.resetData(o,r,i.pager),a(r);if(n.getByIndex)return r=n.getByIndex,i.resetData(o,r),a(r);var l=n.loader,s=n.remote;if(!l&&s&&(l=function(e,r){var t=A.isFunction(s)?s(e,i):{url:s};A.ajax(A.extend({type:"GET",data:e,dataType:"json",success:function(e,t,a){if(n.remoteConverter&&(e=n.remoteConverter(e,t,a,i)),"string"==typeof e&&(e=A.parseJSON(e)),A.isPlainObject(e)&&e.data){var o=e.result||e.status;"success"===o||"ok"===o||200===o?r(e):r(!1,e.message||e.reason||i.lang.errorCannotHandleRemoteData,e)}else r(!1,i.lang.errorCannotHandleRemoteData,e)},error:function(){r(!1,i.lang.errorCannotGetDataFromRemote.format(n.remote))}},t))}),!l)return a(!1);i.renderLoading(!0);var d=i.loadingId;l(e,function(e,t){if(d===i.loadingId){if(i.renderLoading(!1),t)return i.showMessage(t,"danger"),void a(!1);i.resetData(o,e.data,e.pager),a(e.data)}})},b.prototype.getDataItem=function(e,t,a){return"function"==typeof(t=t||this.getData())?t(e,a=a||this.getFilterParams()):t[e]},b.prototype.showMessage=function(e,t,a){var o=this;o.msgerAutoCloseTimer&&(clearTimeout(o.msgerAutoCloseTimer),o.msgerAutoCloseTimer=null);var r=o.$container.find(".datagrid-messager");return e?(t=t||"info",a===k&&(a=5e3),r.length||(r=A('<div class="datagrid-messager" style="display: none"><div class="content"></div><button type="button" class="close">×</button></div>').appendTo(o.$container).on("click",".close",function(){r.slideUp(),o.msgerAutoCloseTimer&&(clearTimeout(o.msgerAutoCloseTimer),o.msgerAutoCloseTimer=null)})),r.attr("class","datagrid-messager bg-"+t).find(".content").text(e),r.slideDown(),void(a&&(o.msgerAutoCloseTimer=setTimeout(function(){r.slideUp(),o.msgerAutoCloseTimer=null},a)))):void r.slideUp()},b.prototype.renderLoading=function(e){e!==k&&(this.states.loading=e);var t=this.$container.find(".datagrid-loading");e?(t.length||(t=A('<div class="datagrid-loading" style="display: none"><div class="content"><i class="icon icon-spin icon-spinner icon-2x"></i><div className="datagrid-loading-message"></div></div></div>').appendTo(this.$container)),t.find(".datagrid-loading-message").text("string"==typeof e?e:""),t.fadeIn()):t.fadeOut()},b.prototype.getData=function(e){var t=this.dataSource,a=null;if(e&&e!==t.dataId){if(t.cache&&t.cache.length)for(var o=t.cache.length-1;0<=o;--o){var r=t.cache[o];if(r.id===e){t.dataId=e,t.data=r.data,this.setPager(r.pager),a=r.data;break}}}else a=t.data;return a},b.prototype.resetData=function(e,t,a){var o=this.dataSource;if(o.dataId=e,o.data=t,o.cache){for(var r=o.cache.length-1;0<r;--r){if(o.cache[r].id===e){o.cache.splice(r,1);break}}for(o.cache.push({id:e,data:t,pager:A.extend({},a)});o.cache.length>o.cacheSize;)o.cache.shift()}a&&this.setPager(a)},b.prototype.getRowLayout=function(e){var t=this.layout;if(0===e)return{top:0,height:t.headerHeight};var a=t.rowHeight;return{height:a,top:t.headerHeight+(1<e?(e-1)*a:0)+e*t.borderWidth}},b.prototype.updateLayout=function(){var e=this,t=e.options,a=e.layout,o=(e.data,e.pager),r=o.pageRecCount,i=e.$container,n=i.width(),l=e.dataSource;if(!l.cols.length&&r&&A.each(e.getDataItem(0),function(e){l.cols.push({name:e})}),!a.cols){for(var s,d,c=l.cols,h=t.colAutoMinWidth,g=t.colAutoDefaultWidth,u=0,p=0,f=t.rowIndexWidth,m=[{left:0,width:t.showRowIndex?"auto"===f?8*(r+e.pager.skip+"").length+18:f:0}],v=0,_=m[0].width,b=!1,C=0,w=0,y=0;y<c.length;++y){var T=c[y];T&&((d=T.width)&&"auto"!==d||(d=.1),s={left:0},1<=d?(T.minWidth!==k&&(d=Math.max(d,T.minWidth)),_+=s.width=d):(T.minWidth===k&&(T.minWidth=h),u+=s.grow=d,p+=T.minWidth,C<=s.grow&&(C=s.grow,b=y+1)),s.minWidth=T.minWidth,!w&&T.checkbox&&(w=y+1,s.checkbox=!0),m.push(s))}t.checkable&&!w&&(m[0].checkbox=!0,"auto"===f&&(m[0].width+=30,_+=30));for(var S=n-_,x=S<p,D=m.length,E=0;E<D;++E){if((d=(s=m[E]).width)||0===d||(d=x?g*s.grow*10:S*s.grow/u,d=Math.floor(Math.max(s.minWidth,d)),s.width=d),0<E){var M=m[E-1];s.left=M.left+M.width}v+=d}var R=n-v;b&&0<R&&(m[b].width+=R,v+=R),a.width=v,a.cols=m}a.containerWidth=n,a.rowHeight=t.rowDefaultHeight,a.borderWidth=t.borderWidth,a.headerHeight=t.showHeader?t.headerHeight:0,a.rowsLength=r+1,a.colsLength=a.cols.length,a.height=a.headerHeight+r*(a.rowHeight+a.borderWidth),a.spanMap={};var I=t.height;"page"===I&&(I=a.headerHeight+e.pager.recPerPage*(a.rowHeight+a.borderWidth)),i.css("height",I),a.containerHeight=I,a.vScrollSpare=a.height-a.containerHeight,a.hScrollSpare=a.width-a.containerWidth,e.layout=a;var O=!!o.page||t.partialRendering;return"auto"===O&&(O=a.height>2*a.containerHeight),a.partialRendering=O,a},b.prototype.getCell=function(e,t){var a,o,r=this,i=r.getCellConfig(e,t),n=0<t?r.dataSource.cols[t-1]:null,l={rowIndex:e,colIndex:t,config:i,checked:r.isRowChecked(i.rowId)};if(0===t){a="index";var s=0<e?r.pager.skip+e:"";o=i.label!==k?i.label:s}else 0===e?(a="head",o=i.label!==k?i.label:i.name!==k?i.name:t):(a="cell",o=i.data&&i.data[r.options.dataItemIsArray?t:n.name]);if(0<e){var d=r.options.valueOperator,c=i.valueType,h=i.valueOperator||(d&&c?d[c]:null);h&&h.getter&&(o=h.getter(o,l,r))}l.value=o,l.type=a;var g=r.layout.spanMap;if(g[i.id]||i.hidden)l.hidden=!0;else if(i.colspan&&1<i.colspan||i.rowspan&&1<i.rowspan){for(var u=e+(i.rowspan||1),p=t+(i.colspan||1),f=e;f<u;++f)for(var m=t;m<p;++m)f===e&&m===t||(g["R"+f+"C"+m]=i.id);i.span=!0}return l},b.prototype.getRowConfig=function(e){var t=this,a="R"+e,o=t.configsCache[a];o||(o=A.extend({},t.isFuncConfigs?t.configs(a):t.configs[a],t.userConfigs[a]),t.configsCache[a]=o);var r=0<e?t.getDataItem(e-1):null;a=(o.data=r)&&(r.rowId||r.id);return o.rowId=a!==k?a:0===e?"#header":e,o},b.prototype.getColConfigByName=function(e){for(var t=this.dataSource.cols,a=0;a<t.length;++a)if(t[a].name===e)return this.getColConfig(a+1);return null},b.prototype.getColConfig=function(e){var t=this,a="C"+e,o=null;return o||(o=A.extend({valueType:"string"},0<e?t.dataSource.cols[e-1]:null,t.layout.cols?t.layout.cols[e]:null,t.isFuncConfigs?t.configs(a):t.configs[a],t.userConfigs[a])),o},b.prototype.getCellConfig=function(e,t){var a=this,o="R"+e+"C"+t,r=null;return r||(r=A.extend({id:o},a.getColConfig(t),a.getRowConfig(e),a.isFuncConfigs?a.configs(o):a.configs[o],a.userConfigs[o])),r},b.prototype.isRowChecked=function(e){return!!this.states.selections[e]},b.prototype.checkRow=function(e,t){var a=this,o=a.states.selections,r=a.getRowConfig(e),i=r.rowId;if(t===k&&(t=!o[i]),o[i]!==t){if(t?o[i]=r:(delete o[i],0<e&&o["#header"]&&(delete o["#header"],a.renderRow(0))),a.renderRow(e),0===e&&a.layout.rowsLength<500)for(var n=1;n<a.layout.rowsLength;++n)a.checkRow(n,t);return a.renderFixeds(),t}},b.prototype.getCheckItems=function(){var t=this.states.selections,a=[];return t&&A.each(t,function(e){a.push(t[e].data)}),a},b.prototype.renderCell=function(e,t,a){var o=this,r=o.options,i=o.getCell(e,t),n=i.config;if(!i.hidden){var l=n.checkbox,s=[o.id,"cell",e,t].join("-"),d=A("#"+s);if(!d.length&&(a=a||A("#"+o.id+"-row-"+e),(d=(r.cellCreator?r.cellCreator(i,o):A('<div class="datagrid-cell" />')).appendTo(a)).attr({id:s,"data-type":i.type,"data-col":i.colIndex,"data-row":i.rowIndex}).toggleClass("datagrid-cell-head",0===e).toggleClass("datagrid-cell-cell","cell"===i.type).toggleClass("datagrid-cell-index",0===t),l)){var c=d.find(".datagrid-checkbox");c.length||(c=A('<div class="checkbox-primary datagrid-checkbox"><label></label></div>').prependTo(d.addClass("datagrid-has-checkbox"))),d.append('<span class="content"></span>')}var h=r.borderWidth,g=o.layout,u=g.colsLength,p={top:h?-h:0,bottom:h?-h:0,left:h?n.left-h:n.left,width:h?n.width+(u-1===t?2:1)*h:n.width,borderWidth:h};if(n.span&&(n.rowspan&&1<n.rowspan&&(p.bottom-=(n.rowspan-1)*(g.rowHeight+h)),n.colspan&&1<n.colspan))for(var f=t+n.colspan,m=t+1;m<f;++m){var v=o.getCell(e,m);p.width+=v.config.width}var _=n.style;A.isFunction(_)&&(_=_(i,p,o));var b=A.extend({},_,p);if(d.css(b).toggleClass("datagrid-cell-span",!!n.span),r.cellFormator)r.cellFormator(d,i,o);else(l?d.find(".content"):d)[i.config.html?"html":"text"](i.value),n.className&&d.addClass(n.className);if(0<t&&0===e&&r.sortable&&!1!==n.sort){var C=!1;n.name===o.states.sortBy&&(C="desc"===o.states.order?"down":"up");var w=d.find(".datagrid-sorter");w.length||(w=A('<div class="datagrid-sorter"><i class="icon icon-sort"></i></div>').appendTo(d),d.addClass("datagrid-col-sortable")),w.toggleClass("datagrid-sort-up","up"===C).toggleClass("datagrid-sort-down","down"===C)}return l&&(d.find(".datagrid-checkbox").toggleClass("checked",i.checked),a.toggleClass("active",i.checked)),d}},b.prototype.renderRow=function(e){var t=this,a=t.layout,o=t.options,r=t.getRowLayout(e),i=a.colsLength,n=t.id+"-row-"+e,l=A("#"+n);l.length?a.partialRendering&&l.css("top",r.top-a.scrollTop):(l=(o.rowCreator?o.rowCreator(e,t):A('<div class="datagrid-row" />')).appendTo(t.$cells)).attr({id:n,"data-row":e,"data-id":e}).css({top:a.partialRendering?r.top-a.scrollTop:r.top,height:r.height}).toggleClass("datagrid-row-head",0===e).toggleClass("datagrid-row-cell",0!==e);for(var s=0;s<i;++s)t.renderCell(e,s,l);return l},b.prototype.renderData=function(){var e=this,t=e.layout;t.cols||e.updateLayout();var a=1,o=t.rowsLength-1;if(t.partialRendering){var r=t.rowHeight+t.borderWidth;a=Math.min(o,Math.max(1,Math.floor((t.scrollTop-t.headerHeight)/r))),o=Math.min(o,Math.max(1,Math.ceil((t.scrollTop+t.containerHeight-t.headerHeight)/r))),e.$cells.find(".datagrid-row").each(function(){var e=A(this),t=e.data("row");0<t&&!e.hasClass("datagrid-fixed")&&(t<a||o<t)&&e.remove()})}e.options.showHeader&&e.renderRow(0);for(var i=a;i<=o;++i)e.renderRow(i);if(t.vScrollSpare){var n=e.states,l=n.fixedTopUntil,s=n.fixedBottomFrom;if("number"==typeof l&&0<l&&l<a)for(i=1;i<=l;++i)e.renderRow(i);if("number"==typeof s&&0<s&&o<s)for(i=s;i<=t.rowsLength-1;++i)e.renderRow(i)}e.pagerObj&&e.pagerObj.set(e.pager)},b.prototype.render=function(e){var a=this,t=a.options;return!e&&t.renderDelay?(a.renderDelayTimer&&clearTimeout(a.renderDelayTimer),a.renderDelayTimer=setTimeout(function(){a.render(!0)},t.renderDelay)):(a.renderDelayTimer&&(clearTimeout(a.renderDelayTimer),a.renderDelayTimer=null),a.loadData(function(e){var t=a.updateLayout();a.$cells.css({width:t.width,height:t.partialRendering?t.containerHeight:a.layout.height}),a.renderData(),a.renderScrolls(),a.renderFixeds(),a.$.callComEvent(a,"onRender")})),a},b.prototype.setScrollbarOffset=function(e,t){var a=this.layout,o=a.scrollLeft,r=a.scrollTop;if("number"==typeof e){var i=a.hScroll;i.offset!==e&&(o=Math.round(e*a.hScrollSpare/i.space))}if("number"==typeof t){var n=a.vScroll;n.offset!==t&&(r=Math.round(t*a.vScrollSpare/n.space))}this.scroll(o,r)},b.prototype.renderScrolls=function(){var e=this,t=e.layout,a=t.vScrollSpare,o=t.hScrollSpare,r=0<a,i=0<o;if(e.$vScroll.toggle(r),e.$hScroll.toggle(i),t.scrollLeft=i?Math.max(0,Math.min(o,t.scrollLeft)):0,t.scrollTop=r?Math.max(0,Math.min(a,t.scrollTop)):0,r){var n=e.$vScrollbar,l=t.containerHeight/t.height,s=Math.max(20,Math.floor(l*t.containerHeight)),d=(g=t.containerHeight-s)/a,c=Math.round(t.scrollTop*d);t.vScroll={space:g,size:a,scale:d,barSize:s,offset:c};var h={height:s,top:c};n.css(h)}if(i){n=e.$hScrollbar,l=t.containerWidth/t.width,s=Math.max(20,Math.floor(l*t.containerWidth));var g=t.containerWidth-s;h={width:s,left:c=Math.round(t.scrollLeft*g/o)};t.hScroll={offset:c,space:g,size:o,barSize:s},n.css(h)}e.$cells.css({top:t.partialRendering?0:-t.scrollTop,left:-t.scrollLeft})},b.prototype.scroll=function(e,t,a){var o=this,r=new Date,i=o.options.scrollDelay;if(i){if(!a&&o.lastScrollTime&&r-o.lastScrollTime<i)return o.scrollDelayTimer&&clearTimeout(o.scrollDelayTimer),void(o.scrollDelayTimer=setTimeout(function(){o.scroll(e,t)},i-(r-o.lastScrollTime)));o.scrollDelayTimer&&(clearTimeout(o.scrollDelayTimer),o.scrollDelayTimer=null),o.lastScrollTime=r}var n=o.layout,l=!1,s=!1;"number"==typeof e&&((e=Math.max(0,Math.min(e,n.width-n.containerWidth)))!==n.scrollLeft&&(l=!0,n.scrollLeft=e)),"number"==typeof t&&((t=Math.max(0,Math.min(t,n.height-n.containerHeight)))!==n.scrollTop&&(s=!0,n.scrollTop=t)),s&&n.partialRendering&&o.renderData(),(l||s)&&(o.renderScrolls(),o.renderFixeds()),o.$.callComEvent(o,"onScroll",[e,t,{vScrolled:s,hScrolled:l}])},b.prototype.renderFixeds=function(){var e=this,t=e.states,a=e.layout;if(e.$cells.find(".datagrid-fixed").removeClass("datagrid-fixed"),e.$cells.find(".datagrid-fixed-edge-top").removeClass("datagrid-fixed-edge-top"),e.$cells.find(".datagrid-fixed-edge-bottom").removeClass("datagrid-fixed-edge-bottom"),e.$cells.find(".datagrid-fixed-edge-left").removeClass("datagrid-fixed-edge-left"),e.$cells.find(".datagrid-fixed-edge-right").removeClass("datagrid-fixed-edge-right"),a.vScrollSpare){var o=t.fixedTopUntil;if("number"==typeof o&&-1<o){o=Math.min(o,a.rowsLength);for(var r=0;r<=o;++r){var i=e.getRowLayout(r),n=A("#"+e.id+"-row-"+r),l=a.partialRendering?i.top:i.top+a.scrollTop;n.addClass("datagrid-fixed").css("top",l),r===o&&a.scrollTop&&n.addClass("datagrid-fixed-edge-top")}}else o=-1;var s=t.fixedBottomFrom;if("number"==typeof s&&-1<s)for(r=s=Math.max(-1<o?o+1:1,Math.min(s,a.rowsLength));r<a.rowsLength;++r){i=e.getRowLayout(r),n=A("#"+e.id+"-row-"+r),l=a.partialRendering?i.top-a.vScrollSpare:i.top-a.vScrollSpare+a.scrollTop;n.addClass("datagrid-fixed").css("top",l),r===s&&a.scrollTop<a.vScrollSpare&&n.addClass("datagrid-fixed-edge-bottom")}}if(a.hScrollSpare){var d=t.fixedLeftUntil;if("number"==typeof d&&-1<d){d=Math.min(d,a.colsLength);for(r=0;r<=d;++r){var c=a.cols[r],h=e.$cells.find('.datagrid-cell[data-col="'+r+'"]'),g=c.left+a.scrollLeft-a.borderWidth;h.addClass("datagrid-fixed").css("left",g),r===d&&a.scrollLeft&&h.addClass("datagrid-fixed-edge-left")}}else d=-1;var u=t.fixedRightFrom;if("number"==typeof u&&-1<u)for(r=u=Math.max(-1<d?d+1:1,Math.min(u,a.colsLength));r<a.colsLength;++r){c=a.cols[r],h=e.$cells.find('.datagrid-cell[data-col="'+r+'"]'),g=c.left-a.hScrollSpare+a.scrollLeft;h.addClass("datagrid-fixed").css("left",g),r===u&&a.scrollLeft<a.hScrollSpare&&h.addClass("datagrid-fixed-edge-right")}}},b.DEFAULTS={width:"auto",height:400,rowDefaultHeight:36,colAutoDefaultWidth:80,colAutoMinWidth:50,showHeader:!0,headerHeight:36,showRowIndex:!0,rowIndexWidth:"auto",borderWidth:1,hoverRow:!0,hoverCol:!0,hoverCell:!1,responsive:!0,defaultDateFormater:"yyyy-MM-dd hh:mm",partialRendering:"auto",scrollDelay:0,renderDelay:100,checkByClickRow:!0,selectable:!0,mouseWheelFactor:1},A.fn.datagrid=function(o){return this.each(function(){var e=A(this),t=e.data(m),a="object"==typeof o&&o;t||e.data(m,t=new b(this,a)),"string"==typeof o&&t[o]()})},b.NAME=m,A.fn.datagrid.Constructor=b,A(function(){A('[data-ride="datagrid"]').datagrid()})}(jQuery,void 0)}),define("config/config",[],function(require,exports,module){"use strict";var e,t,a,o,r=seajs.data.vars._DEVELOPER;switch(seajs.data.vars._ENV){case 0:e=".i7391.com/",a="1000004",o="http://manageweb.i7391.com/",t="http://api-tools.i7391.com/";break;case-1:switch(e=".7391test.com/",r){case"qiujm":t="http://tools.lik.7391test.com/",a="1000011",o="http://manageweb.qiujm.7391test.com/";break;case"lik":t="http://tools.lik.7391test.com/",a="1000002",o="http://manageweb.lik.7391test.com/"}break;case-2:e=".7391test.com/",a="1000005",o="http://manageweb.7391test.com/",t="http://api-tools.7391test.com/"}console.log(t),exports.WORK_WECHAT_AGENTID=a,exports.WORK_WECHAT_RETURN_URL=o+"login_cb.html",exports.DOMAIN_SITE=e.slice,exports.API_TOOLS_SITE=t,exports.REQUEST_URL={LOGIN:t+"passport/work_wechat_callback.html",LOGOUT:t+"passport/logout.html",UPLOAD:t+"i7391_CMS/common/upload.html",MENU_LIST:t+"common/get_menu_list.html",GROUP_LIST:t+"admin/group_list.html",GROUP_ADD:t+"admin/group_add.html",GROUP_EDIT:t+"admin/group_edit.html",GROUP_DELETE:t+"admin/group_delete.html",GET_GROUP_INFO:t+"admin/group_edit.html?action=getGroupInfo",JQ_GET_DATA:t+"admin/group_authority_edit.html?action=jqGetData",GROUP_AUTHORITY_EIDT:t+"admin/group_authority_edit.html",ADMIN_LIST:t+"admin/admin_list.html",ADMIN_ADD:t+"admin/admin_add.html",ADMIN_EDIT:t+"admin/admin_edit.html",ADMIN_DELETE:t+"admin/admin_delete.html",ADMIN_WX_BIND:t+"wxqr/admin_bind.html",ADMIN_WX_UNBIND:t+"admin/wx_unbind.html",GET_ADMIN_INFO:t+"admin/admin_edit.html?action=getAdminInfo",GET_GROUP_LIST:t+"admin/admin_add.html?action=getGroupList",BANNER_LOGIN_LIST:t+"i7391_CMS/banner_pc/banner_login_list.html",BANNER_LOGIN_ADD:t+"i7391_CMS/banner_pc/banner_login_add.html",BANNER_LOGIN_EDIT:t+"i7391_CMS/banner_pc/banner_login_edit.html",BANNER_LOGIN_DELETE:t+"i7391_CMS/banner_pc/banner_login_delete.html",GET_BANNER_INFO:t+"i7391_CMS/banner_pc/banner_login_edit.html?action=getBannerInfo",BANNER_LOGIN_FOOTER_LIST:t+"i7391_CMS/banner_pc/banner_login_footer_list.html",BANNER_LOGIN_FOOTER_ADD:t+"/i7391_CMS/banner_pc/banner_login_footer_add.html",BANNER_LOGIN_FOOTER_EDIT:t+"/i7391_CMS/banner_pc/banner_login_footer_edit.html",BANNER_LOGIN_FOOTER_DELETE:t+"/i7391_CMS/banner_pc/banner_login_footer_delete.html",GET_FOOTER_INFO:t+"i7391_CMS/banner_pc/banner_login_footer_edit.html?action=getBannerInfo",CAROUSEL_LIST:t+"i7391_CMS/carousel/carousel_list.html",CAROUSEL_ADD:t+"i7391_CMS/carousel/carousel_add.html",CAROUSEL_EDIT:t+"i7391_CMS/carousel/carousel_edit.html",CAROUSEL_DELETE:t+"i7391_CMS/carousel/carousel_delete.html",GET_CAROUSEL_INFO:t+"i7391_CMS/carousel/carousel_edit.html?action=getCarouselInfo",GAME_LIST:t+"i7391_CMS/game/game_list.html",GAME_ADD:t+"i7391_CMS/game/game_add.html",GAME_EDIT:t+"i7391_CMS/game/game_edit.html",GAME_DELETE:t+"i7391_CMS/game/game_detele.html",GET_GAME_INFO:t+"i7391_CMS/game/game_edit.html?action=getGameInfo",POINTCARD_LIST:t+"i7391_CMS/pointcard/pointcard_list.html",POINTCARD_ADD:t+"i7391_CMS/pointcard/pointcard_add.html",POINTCARD_EDIT:t+"i7391_CMS/pointcard/pointcard_edit.html",POINTCARD_DELETE:t+"i7391_CMS/pointcard/pointcard_delete.html",GET_POINTCARD_INFO:t+"i7391_CMS/pointcard/pointcard_edit.html?action=getPointcardInfo",MOBILEGAME_LIST:t+"i7391_CMS/mobilegame/mobilegame_list.html",MOBILEGAME_ADD:t+"i7391_CMS/mobilegame/mobilegame_add.html",MOBILEGAME_EDIT:t+"i7391_CMS/mobilegame/mobilegame_edit.html",MOBILEGAME_DELETE:t+"i7391_CMS/mobilegame/mobilegame_delete.html",GET_MOBILEGAME_INFO:t+"i7391_CMS/mobilegame/mobilegame_edit.html?action=getMobileGameInfo",GOODS_LIST:t+"i7391_CMS/goods/goods_list.html",GOODS_ADD:t+"i7391_CMS/goods/goods_add.html",GOODS_EDIT:t+"i7391_CMS/goods/goods_edit.html",GOODS_DELETE:t+"i7391_CMS/goods/goods_detele.html",GET_GOODS_INFO:t+"i7391_CMS/goods/goods_edit.html?action=getGoodsInfo",GOODS_PC_LIST:t+"i7391_CMS/goods_pc/goods_list.html",GOODS_PC_ADD:t+"i7391_CMS/goods_pc/goods_add.html",GOODS_PC_EDIT:t+"i7391_CMS/goods_pc/goods_edit.html",GOODS_PC_DELETE:t+"i7391_CMS/goods_pc/goods_detele.html",GET_GOODS_PC_INFO:t+"i7391_CMS/goods_pc/goods_edit.html?action=getGoodsInfo",GET_RECORD:t+"8591/contrast/game_contrast.html?action=getRecord",GAME_CONTRAST:t+"8591/contrast/game_contrast.html",GET_ALLGAME_DATA:t+"i7391_API/getdata/get_allgame_data.html",GET_GAMETYPE_DATA:t+"i7391_API/getdata/get_gametype_data",GET_RATE:t+"i7391_API/getdata/get_rate.html",GET_CARD_CATEGORY:t+"i7391_API/getdata/get_card_category.html",GET_CARD_POINT:t+"i7391_API/getdata/get_card_point.html",CLEAN_DATA:"http://117.27.250.72:8081/_clean/res.php"}}),define("config/function",["jquery","zui","config/config","lib/cookie"],function(require,exports,module){"use strict";var i=require("jquery");require("zui");var e=require("config/config"),n=require("lib/cookie");i.ajaxSetup({error:function(e,t,a){var o="介面出錯: "+e.status;o+="<br /> 介面: "+this.url,o+="<br /> 方式: "+this.type,o+="<br /> 資料: "+this.data,r.show(o)},beforeSend:function(e){i("#ajax_loading").removeClass("hidden").addClass("show")},complete:function(e,t){i("#ajax_loading").removeClass("show").addClass("hidden")}}),i(document).on("click","a",function(e){e.preventDefault()});exports.show_btn=function(){for(var e=i(".power"),t=0;t<e.length;t++){var a="/"==e[t].getAttribute("data-link")?e[t].getAttribute("data-link"):"/"+e[t].getAttribute("data-link");n(a)==a?i('[data-link="'+a+'"]').removeClass("hidden"):i('[data-link="'+a+'"]').remove()}},i(document).on("click",'.datagrid-row:not(".datagrid-row-head"):not("#triggerModal .datagrid-row")',function(){0==i(this).find(".che").hasClass("checked")?(i(this).find(".che").addClass("checked"),i(this).addClass("active")):(i(this).find(".che").removeClass("checked"),i(this).removeClass("active")),i(".che").length==i(".che.checked").length?i("#checkAll").addClass("checked"):i("#checkAll").removeClass("checked")}),i(document).on("click",".datagrid-row-head .datagrid-cell-index",function(){0==i(this).find("#checkAll").hasClass("checked")?(i(this).find("#checkAll").addClass("checked"),i(".che").addClass("checked"),i(".che").parents(".datagrid-row").addClass("active")):(i(this).find("#checkAll").removeClass("checked"),i(".che").removeClass("checked"),i(".che").parents(".datagrid-row").removeClass("active"))}),i(document).keydown(function(e){switch(e.keyCode){case 13:case 32:return!1}}),i(document).on("input porpertychange change",'input[type="text"]',function(e){i(this).tooltip("destroy");var t=i('input[type="text"]');""==i(this).val()&&i(this).tooltip("show","請填寫"+i(this).next().html());for(var a=0;a<t.length;a++){if(""==t[a].value){i(".up").addClass("disabled");break}i(".up").removeClass("disabled")}});exports.get_search_data=function(e,t,a){i(document).on("click",".search-button",function(){l(e,t,a)})};var l=function(a,e,o){var r={page:1,rows:e,searchField:i(".chosen-select").val(),searchOper:"cn",searchString:i("input.search-control").val(),_search:!0};i.ajax({type:"GET",url:a,dataType:"json",data:r,xhrFields:{withCredentials:!0},crossDomain:!0,success:function(e){if(e.records&&e.records>r.rows){var t=r.rows+=1e3;return l(a,t,o),!1}i.isFunction(o)&&s(o(e))}})};exports.search_data=l;var s=function(e){var t=parseInt(i('li[class="active"] .pager-item').html()),a=i("#datagridPageExample").data("zui.datagrid");a.setDataSource(e),a.render(),i("#datagridPageExample").on("onRender",function(e){a.setPager(t||1)})};exports.change_page=s;exports.show_picture_upload=function(){return'<div id="tableUploader" class="uploader"><div class="uploader-message text-center"><div class="content"></div><button type="button" class="close">×</button></div><table class="table table-bordered"><thead><tr><th colspan="2">檔名</th><th style="width: 100px">大小</th><th style="width: 160px; text-align: center;">狀態/操作</th></tr></thead><tbody class="uploader-files"><tr class="file template"><td style="width: 38px; padding: 3px"><div class="file-icon"></div></td><td style="padding: 0"><div style="position: relative; padding: 8px;"><strong class="file-name"></strong><div class="file-progress-bar"></div></div></td><td><span class="file-size text-muted"></span></td><td class="actions text-right" style="padding: 0 4px;"><div class="file-status" data-toggle="tooltip" style="margin: 8px;"><i class="icon"></i> <span class="text"></span></div><a data-toggle="tooltip" class="btn btn-link btn-download-file" target="_blank"><i class="icon icon-download-alt"></i></a><button type="button" data-toggle="tooltip" class="btn btn-link btn-reset-file" title="Repeat"><i class="icon icon-repeat"></i></button><button type="button" data-toggle="tooltip" class="btn btn-link btn-rename-file" title="Rename"><i class="icon icon-pencil"></i></button><button type="button" data-toggle="tooltip" title="Remove" class="btn btn-link btn-delete-file"><i class="icon icon-trash text-danger"></i></button></td></tr></tbody><tfoot><tr><td colspan="4" style="padding: 4px 0"><div style="position: relative;"><div class="uploader-status pull-right text-muted" style="margin-top: 5px;"></div><button type="button" class="btn btn-link uploader-btn-browse"><i class="icon icon-plus"></i> 選擇檔案</button><button type="button" class="btn btn-link uploader-btn-start"><i class="icon icon-cloud-upload"></i> 開始上傳</button></div></td></tr></tfoot></table></div>'};exports.show_upload_options=function(){i("#tableUploader").uploader({url:e.REQUEST_URL.UPLOAD,lang:"zh_tw",filters:{mime_types:[{title:"圖片",extensions:"jpg,gif,png"}]},limitFilesCount:1,deleteActionOnDone:function(e,t){t()},onFileUploaded:function(e,t){var a=JSON.parse(t.response);i("#imgUrlInput").val(a.data)}})};exports.show_chosen=function(e){for(var t="<option value=''></option>",a=0;a<e.length;a++)t+="<option value="+e[a].key+">"+e[a].value+"</option>";i("select.chosen-select").html(t),i("select.chosen-select").chosen({lang:"zh_cn",no_results_text:"沒有找到",disable_search_threshold:10,search_contains:!0})};exports.show_picture_tooltip=function(){i(document).on("mouseover",".pic-show:not(:eq(0))",function(){i(this).tooltip("destroy");var e=i(this).html(),t=/^\/\//;!0===t.test(e)&&(e=e.replace(t,"http://"));var a="<img src="+e+' class="img-rounded">';i('[data-toggle="tooltip"]').tooltip({container:"#datagridPageExample",placement:"right",html:!0,title:a}),i(this).tooltip("show",a)})};var r=new i.zui.Messager("",{type:"danger",icon:"exclamation-sign",cssClass:"my-messager",contentClass:"my-messager-content",placement:"center",time:!0===seajs.data.debug?1e4:4e3});exports.get_user_i7391_cookie=function(e){var t=[],a=n("User_Cookie_Name");if(null===a||""===a)return!1;var o=a.split("&");for(var r in o){var i=o[r].split("=");t[i[0]]=i[1]}return void 0!==t[e]&&t[e]},exports.getUrlParam=function(e){var t=window.location.hash.match(new RegExp("(?:#|&)"+e+"=([^&]*)(&|$)"));return(t?decodeURIComponent(t[1]):"")||function(e,t){t||(t=window.location.href);e=e.replace(/[\[\]]/g,"\\$&");var a=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return a?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null}(e)};exports.show_error_tip=function(e){var t=e;new i.zui.Messager({type:"danger",time:2e3,close:!1}).show(t)};exports.show_success_tip=function(e){var t=e;new i.zui.Messager({type:"success",time:2e3,close:!1}).show(t)};exports.delete_all_cookie=function(){for(var e=document.cookie.split(";"),t=0;t<e.length;t++){var a=-1<(r=(o=e[t]).indexOf("="))?o.substr(0,r):o;document.cookie=a+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/"}if(0<e.length)for(t=0;t<e.length;t++){a=-1<(r=(o=e[t]).indexOf("="))?o.substr(0,r):o;var o,r,i=location.host.substr(location.host.indexOf("."));document.cookie=a+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/; domain="+i}}}),define("lib/cookie",["jquery"],function(require,exports,module){"use strict";var g=require("jquery");module.exports=function(e,t,a){if(void 0===t){var o=null;if(document.cookie&&""!==document.cookie)for(var r=document.cookie.split(";"),i=0;i<r.length;i++){var n=g.trim(r[i]);if(n.substring(0,e.length+1)==e+"="){o=decodeURIComponent(n.substring(e.length+1));break}}return o}a=a||{},null===t&&(t="",a.expires=-1);var l,s="";a.expires&&("number"==typeof a.expires||a.expires.toUTCString)&&("number"==typeof a.expires?(l=new Date).setTime(l.getTime()+24*a.expires*60*60*1e3):l=a.expires,s="; expires="+l.toUTCString());var d=a.path?"; path="+a.path:"",c=a.domain?"; domain="+a.domain:"",h=a.secure?"; secure":"";document.cookie=[e,"=",encodeURIComponent(t),s,d,c,h].join("")}});