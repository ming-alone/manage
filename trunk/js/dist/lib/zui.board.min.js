!function(t,o){"object"==typeof exports?module.exports=o():"function"==typeof define&&(define.amd||define.cmd)?define("lib/zui.board.min",[],o):t.eventUtil=o()}(this,function(){!function(a){"use strict";if(!a.fn.droppable)throw new Error("Droppable requires for boards");var n=function(t,o){this.$=a(t),this.options=this.getOptions(o),this.getLang(),this.init()};n.DEFAULTS={langs:{zh_cn:{append2end:"移动到末尾"},zh_tw:{append2end:"移动到末尾"},en:{append2end:"Move to the end."}}},n.prototype.getOptions=function(t){return a.extend({lang:a.zui.clientLang()},n.DEFAULTS,this.$.data(),t)},n.prototype.getLang=function(){var t=this.options;this.lang=t.langs[t.lang]||t.langs[n.DEFAULTS.lang]},n.prototype.init=function(){var o=1,e=this.lang;this.$.find('.board-item:not(".disable-drop"), .board:not(".disable-drop")').each(function(){var t=a(this);t.attr("id")?t.attr("data-id",t.attr("id")):t.attr("data-id")||t.attr("data-id","board"+o++),t.hasClass("board")&&t.find(".board-list").append('<div class="board-item board-item-empty"><i class="icon-plus"></i> {append2end}</div>'.format(e)).append('<div class="board-item board-item-shadow"></div>'.format(e))}),this.bind()},n.prototype.bind=function(t){var n=this.$,e=this.options;n.droppable(a.extend({before:e.before,target:'.board-item:not(".disable-drop, .board-item-shadow")',flex:!0,selector:'.board-item:not(".disable-drop, .board-item-shadow")',start:function(t){n.addClass("dragging").find(".board-item-shadow").height(t.element.outerHeight())},drag:function(t){if(n.find(".board.drop-in-empty").removeClass("drop-in-empty"),t.isIn){var o=t.target.closest(".board").addClass("drop-in"),e=o.find(".board-item-shadow"),i=t.target;n.addClass("drop-in").find(".board.drop-in").not(o).removeClass("drop-in"),e.insertBefore(i),o.toggleClass("drop-in-empty",i.hasClass("board-item-empty"))}},drop:function(t){var o;t.isNew&&(a.isFunction(e.drop)&&(o=e.drop(t)),!1!==o&&t.element.insertBefore(t.target))},finish:function(){n.removeClass("dragging").removeClass("drop-in").find(".board.drop-in").removeClass("drop-in")}},e.droppable))},a.fn.boards=function(i){return this.each(function(){var t=a(this),o=t.data("zui.boards"),e="object"==typeof i&&i;o||t.data("zui.boards",o=new n(this,e)),"string"==typeof i&&o[i]()})},a.fn.boards.Constructor=n}(jQuery)});